!function(){var e={949:function(){var e=document.querySelector(".header__closeBtn");document.getElementById("header__openBtn").onclick=function(){document.getElementById("header__sidenavId").classList.add("open")},e.onclick=function(){document.getElementById("header__sidenavId").classList.remove("open")}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}!function(){"use strict";function e(){return fetch("./products.json").then((function(e){return e.json()}))}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(949),document.getElementById("searchBtn").onclick=function(e){e.preventDefault(),document.querySelector(".header__search").classList.toggle("show")},document.addEventListener("DOMContentLoaded",(function(n){e().then((function(e){!function(e){var n,a="",r=function(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw c}}}}(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;a+='<div class="catalog__item catalog__hide">\n            <div class="catalog__photo">\n                <a href="./product.html?id='.concat(o.id,'" class="catalog__imgLink">\n                    <div class="catalog__imgWrapper">\n                        <img class="catalog__img" src="../uploads/').concat(o.image,'" alt="').concat(o.category,'">\n                    </div>\n                </a>\n            </div>\n            <div class="catalog__footer">\n                <div class="catalog__description">\n                    <a href="./product.html?id=').concat(o.id,'" class="catalog__link">\n                        <p class="catalog__name">').concat(o.name,'</p>\n                    </a>\n                    <p class="catalog__price">').concat(o.price,'$</p>\n                </div>\n                <div class="catalog__basketWrapper hidden">\n                    <div class="catalog__basket">\n                        <a href="" class="catalog__basketLink">Add to cart</a>\n                        <img class="catalog__icon" src="../img/bag.svg" alt="Cart">\n                    </div>\n                </div>\n            </div>\n        </div>')}}catch(e){r.e(e)}finally{r.f()}document.getElementById("searchContainer").innerHTML=a;var c=new URL(window.location.href).searchParams.get("search");function i(){var e=document.getElementById("searchInput").value;if(0!=e.trim().length){var t=document.querySelectorAll(".catalog__item"),n=0;t.forEach((function(t){var a=t.querySelector(".catalog__name");a&&a.innerText.includes(e.trim())?(t.classList.remove("catalog__hide"),document.getElementById("SearchOnRequest").innerText=e,n++):t.classList.add("catalog__hide")})),0==n&&(document.getElementById("SearchOnRequest").innerText="no items to show")}}document.getElementById("searchInput").value=c,document.getElementById("SearchOnRequest").innerText=c,i(),document.querySelector(".header__searchBtn").addEventListener("click",(function(e){e.preventDefault(),i()}))}(e)}))})),document.addEventListener("DOMContentLoaded",(function(t){e().then((function(e){!function(e){var t,n=document.querySelectorAll(".catalog__item"),r=localStorage.getItem("cart");t=null==r?new Map:new Map(JSON.parse(r)),console.log(t),document.getElementById("countCart").innerHTML=t.size,n.forEach((function(e){var n=e.querySelector(".js-catalogBasket"),a=e.querySelector(".catalog__name").innerHTML,r=new Object;n.addEventListener("click",(function(e){e.preventDefault(),r={size:"select size",numb:1},t.set(a,r),console.log(t),localStorage.setItem("cart",JSON.stringify(Array.from(t.entries()))),document.getElementById("countCart").innerHTML=t.size}))}));var o,c="",i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}(e);try{for(i.s();!(o=i.n()).done;){var l=o.value;t.has("".concat(l.name))&&(c+='<div class="catalog__item productContainer">\n                <div class="catalog__photo productImg">\n                    <a href="./product.html?id='.concat(l.id,'" class="catalog__imgLink">\n                        <div class="catalog__imgWrapper">\n                            <img class="catalog__img" src="../uploads/').concat(l.image,'" alt="').concat(l.category,'">\n                        </div>\n                    </a>\n                </div>\n                <div class="productAbout">\n                    <div class="productName">\n                        <a href="./product.html?id=').concat(l.id,'" class="catalog__link">\n                            <p class="catalog__name">').concat(l.name,'</p>\n                        </a>\n                        <div class="productDelete">delete</div>\n                    </div>\n                    <div class="productSize">Size:<span>').concat(t.get(l.name).size,'</span>\n                    </div>\n                    <div class="productCount">\n                        <div class="productCountBt">\n                            <button class="buttonCountMinus countBt">-</button>\n                            <div class="buttonCountNumber">').concat(t.get(l.name).numb,'</div>\n                            <button class="buttonCountPlus countBt">+</button>\n                        </div>\n                        <div class="hiddenContent"><span class="hiddenPrice">').concat(l.price,'</span>$</div>\n                        <div class="fontResultMul"><span class="resultMul">').concat(l.price*t.get(l.name).numb,"</span>$</div>\n                        </div>\n                    </div>\n                </div>\n            </div><br>"),document.querySelector(".pageContentCart").classList.add("basketContentHide"))}}catch(e){i.e(e)}finally{i.f()}document.getElementById("basketContainer").innerHTML=c;var s=document.querySelectorAll(".productContainer"),d=0,u=document.getElementById("costSum"),m=document.getElementById("costTotal");s.forEach((function(e){var n=e.querySelector(".buttonCountPlus"),a=e.querySelector(".buttonCountMinus"),r=e.querySelector(".buttonCountNumber"),o=e.querySelector(".resultMul"),c=Number(e.querySelector(".hiddenPrice").innerHTML),i=e.querySelector(".catalog__name").innerHTML;d+=Number(o.innerHTML),n.onclick=function(){var e=Number(r.innerHTML);e++,r.innerHTML=e,o.innerHTML=e*c,d+=c,u.innerHTML=d,m.innerHTML=d,t.get(i).numb=e,localStorage.setItem("cart",JSON.stringify(Array.from(t.entries())))},a.onclick=function(){var e=Number(r.innerHTML);e>=2&&(e--,r.innerHTML=e,o.innerHTML=e*c,d-=c,u.innerHTML=d,m.innerHTML=d,t.get(i).numb=e,localStorage.setItem("cart",JSON.stringify(Array.from(t.entries()))))},e.querySelector(".productDelete").onclick=function(){var n=e.querySelector(".catalog__name").innerHTML;document.getElementById("basketContainer").removeChild(e),t.delete(n,"select size"),localStorage.setItem("cart",JSON.stringify(Array.from(t.entries()))),document.getElementById("countCart").innerHTML=t.size,d-=Number(o.innerHTML),u.innerHTML=d,m.innerHTML=d}})),u.innerHTML=d,m.innerHTML=d}(e)}))}));var r=document.querySelectorAll(".catalogHeader__link"),o=window.location.search.replace("?group=",""),c=document.querySelector(".js-pagination");function i(e){var t=document.querySelector(".catalog__items");t.innerHTML="",e.forEach((function(e){var n;t.innerHTML+='<div class="catalog__item">\n    <div class="catalog__photo">\n        <a href="./product.html?id='.concat((n=e).id,'" class="catalog__imgLink">\n            <div class="catalog__imgWrapper">\n                <img class="catalog__img" src="../uploads/').concat(n.image,'" alt="').concat(n.category,'">\n            </div>\n        </a>\n    </div>\n    <div class="catalog__footer">\n        <div class="catalog__description">\n            <a href="./product.html?id=').concat(n.id,'" class="catalog__link">\n                <p class="catalog__name">').concat(n.name,'</p>\n            </a>\n            <p class="catalog__price">').concat(n.price,'$</p>\n        </div>\n        <div class="catalog__basketWrapper hidden">\n            <div class="catalog__basket">\n                <img class="catalog__icon js-catalogBasket" src="../img/bag.svg" alt="Cart">\n                <a class="catalog__basketLink js-catalogBasket">Add to cart</a>\n            </div>\n        </div>\n    </div>\n</div>')}))}function l(e,t){return s(e),t.filter((function(t){return t.category==e}))}function s(e){var t=document.querySelector(".pageCaption");t.innerHTML="",t.innerHTML='<a href="index.html">Home</a>\n    <img src="../img/greater.png">\n    <a href="catalog.html">Catalog</a>\n    <img src="../img/greater.png">\n    <span>'.concat(e.charAt(0).toUpperCase()+e.slice(1),"</span>")}function d(e,t,n){if(c.innerHTML="",e>n){c.classList.remove("pagination__inner_hidden");for(var a="",r=1;r<=t;r++)a+='<li class="pagination__link js-pagi-number">'.concat(r,"</li>");c.innerHTML+='<li class="pagination__link js-pagi-back"><img class="pagination__arrow js-pagi-back"\n        src="../img/arrowBack.svg">',c.innerHTML+=a,c.innerHTML+=' <li class="pagination__link js-pagi-next">\n        <img class="pagination__arrow" src="../img/arrowNext.svg">\n    </li>',document.querySelectorAll(".pagination__link").forEach((function(e){console.log(e.innerText),e.classList.toggle("pagination__link_active",1==e.innerText)}))}else c.classList.add("pagination__inner_hidden")}var u=document.querySelectorAll(".categories__link");function m(e){return' <div class="ourFavorites__item">\n    <a href="./product.html?id='.concat(e.id,'" class="ourFavorites__productLink">\n        <div class="ourFavorites__product">\n            <div class="ourFavorites__imgWrapper">\n                <img class="ourFavorites__img" src="../uploads/').concat(e.image,'" alt="Rings">\n            </div>\n            <p class="ourFavorites__name">').concat(e.name,'</p>\n            <p class="ourFavorites__price">').concat(e.price,"$</p>\n        </div>\n    </a>\n</div>")}var g,v=document.getElementById("catalog"),_=document.getElementById("product"),p=document.getElementById("main"),f=document.getElementById("order");v&&(void e().then((function(e){var t=e.length,n=Math.ceil(t/9),a=1,s=0;d(t,n,9),o?(c.innerHTML="",i(l(o,e).slice(s,s+9)),r.forEach((function(e){e.classList.toggle("catalogHeader__link_active",e.innerHTML.toLowerCase()==o)}))):i(e.slice(s,s+9));for(var u=function(t){r[t].addEventListener("click",(function(n){n.preventDefault(),r.forEach((function(e){e.classList.remove("catalogHeader__link_active")}));var a,o,c=l(r[t].innerText.toLowerCase(),e);d(c.length,Math.ceil(c.length/9),9),a=r[t].innerText.toLowerCase(),(o=new URL(window.location)).searchParams.set("group",a),history.pushState(null,null,o),i(c),r[t].classList.add("catalogHeader__link_active")}))},m=0;m<r.length;m++)u(m);function g(t){a=t,s=9*t,i(e.slice(9*(a-1),9*(a-1)+9)),window.scrollTo({top:document.querySelector(".catalogHeader").offsetTop,behavior:"smooth"}),function(e){document.querySelectorAll(".pagination__link").forEach((function(t){t.classList.toggle("pagination__link_active",t.innerText==e)}))}(a)}c.addEventListener("click",(function(e){var t=e.target;t.classList.contains("js-pagi-number")&&g(Number(t.innerText)),t.classList.contains("js-pagi-next")&&(t.classList.remove("pagination__link__disabled"),a==n?t.classList.add("pagination__link__disabled"):g(a+1)),t.classList.contains("js-pagi-back")&&(t.classList.remove("pagination__link__disabled"),1==a?t.classList.toggle("pagination__link__disabled"):g(a-1))}))}))).then((function(){var e,t,n;t=document.querySelectorAll(".catalog__item"),n=localStorage.getItem("cart"),e=null==n?new Map:new Map(JSON.parse(n)),console.log(e),document.getElementById("countCart").innerHTML=e.size,t.forEach((function(t){var n=t.querySelector(".catalog__basketLink"),a=t.querySelector(".catalog__name").innerHTML,r=new Object;n.addEventListener("click",(function(t){t.preventDefault(),r={size:"select size",numb:1},e.set(a,r),console.log(e),localStorage.setItem("cart",JSON.stringify(Array.from(e.entries()))),document.getElementById("countCart").innerHTML=e.size}))}))})),_&&(g=window.location.search.replace("?id=",""),e().then((function(e){var t,n;!function(e){s(e.name);var t=document.querySelector(".product__img"),n=document.querySelector(".product__name"),a=document.querySelector(".product__price"),r=document.querySelector(".product__description"),o=document.querySelector(".product__select"),c=document.querySelector(".product__selectWrapper"),i=document.querySelector(".product__oneSize");t.src="../uploads/".concat(e.image),n.innerText=e.name,a.innerText=e.price,r.innerText=e.description,e.size?e.size.forEach((function(e){var t=document.createElement("option");t.setAttribute("value",e),t.innerHTML=e,o.appendChild(t)})):(c.classList.add("product__selectWrapper_hidden"),i.classList.remove("hidden"))}((t=e,n=g,t.find((function(e){return e.id==n})))),function(){var e,t=document.querySelector(".product"),n=localStorage.getItem("cart");e=null==n?new Map:new Map(JSON.parse(n)),console.log(e),document.getElementById("countCart").innerHTML=e.size;var a=t.querySelector(".product__button"),r=t.querySelector(".product__button__buy"),o=t.querySelector(".product__name").innerHTML,c=document.querySelector(".product__select"),i=new Object;function l(){var t=c.value;i={size:t,numb:1},e.set(o,i),console.log(e),localStorage.setItem("cart",JSON.stringify(Array.from(e.entries()))),document.getElementById("countCart").innerHTML=e.size}a.addEventListener("click",(function(e){e.preventDefault(),l()})),r.addEventListener("click",(function(e){e.preventDefault(),l(),window.location.href="basket.html"}))}()}))),p&&e().then((function(e){!function(e){var t=document.querySelector(".ourFavorites__line1"),n=document.querySelector(".ourFavorites__line2");t.innerHTML="",n.innerHTML="";for(var a=e.length-1,r=0;r<2;r++)t.innerHTML+=m(e[Math.round(Math.random()*a)+1]);n.innerHTML=m(e[Math.round(Math.random()*a)+1])}(e),u.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),window.location.href="catalog.html?group=".concat(e.innerText.toLowerCase())}))}))})),f&&function(){var t=function(e){var t=document.getElementById(e);return t.classList.contains("checkout__formField_invalid")&&(t.classList.remove("checkout__formField_invalid"),document.getElementById(e+"Error").style.visibility="hidden"),1!=t.parentElement.classList.length||("userPhone"!=e&&t.value.replace(/ +/g," ").trim(),""!=t.value)||(t.classList.add("checkout__formField_invalid"),document.getElementById(e+"Error").style.visibility="visible",!1)},n=function(e){var t=document.getElementById("user"+e),n=document.querySelector(".errorMessage"+e);return n.innerHTML="",1==("Email"==e?/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i:/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/).test(t.value)||(t.classList.contains("checkout__formField_invalid")||(t.classList.add("checkout__formField_invalid"),document.getElementById("user"+e+"Error").style.visibility="visible",n.innerHTML=e+" doesn't match required format"),!1)},a=document.getElementById("userPhone");a.addEventListener("input",(function(e){var t,n,r=a.value.replace(/\D+/g,"");t=a.value.includes("+8")||"8"===a.value[0]?"":"+";for(var o=0;o<r.length&&o<11;o++){switch(o){case 0:t+="7"===(n=r[o])?"7 (":"8"===n?"8 (":"9"===n?"7 (9":"7 (";continue;case 4:t+=") ";break;case 7:case 9:t+="-"}t+=r[o]}a.value=t}));var r=function(e,t){var n=document.getElementById("userCountry"),a=document.getElementById("userCity"),r=document.getElementById("userAddress");n.value="";var o=function(t){1==e?t.parentElement.classList.remove("formField__wrapper_hidden"):t.parentElement.classList.add("formField__wrapper_hidden")};o(n),o(a),o(r),1==t?n.disabled=!1:(n.value="Russia",n.disabled=!0);var c=document.getElementById("pick-up");a.disabled=c.checked,r.disabled=c.checked};document.getElementById("international").addEventListener("change",(function(e){r(!0,!0),c(20)})),document.getElementById("standard").addEventListener("change",(function(e){r(!0,!1),c(10)})),document.getElementById("courier").addEventListener("change",(function(e){r(!0,!1),c(20)}));var o=!1;document.getElementById("pick-up").addEventListener("change",(function(e){r(!0,!1),c(10),o?window.JCShiptorWidgetPvz.show():(window.JCShiptorWidgetPvz.init(),o=!o)})),document.getElementById("store").addEventListener("change",(function(e){r(!1,!1),c(0)})),document.querySelector("#shiptor_widget_pvz").addEventListener("onPvzSelect",(function(e){console.log(e.detail);var t=function(e,t){document.getElementById(e).value=t};t("userCity",e.detail.prepare_address.administrative_area),t("userAddress",e.detail.address)}));var c=function(e){var t=document.getElementById("subtotal").innerHTML,n=document.getElementById("discount").innerHTML;document.getElementById("delivery").innerHTML=e;var a=document.getElementById("total");console.log("subtotal="+t+" discount = "+n+" delivery="+e),a.innerHTML=+t-+n+ +e};document.querySelector(".discount__button").onclick=function(e){e.preventDefault();var t=document.querySelector(".discount__code").value,n=document.getElementById("total").innerHTML,a=document.getElementById("discount");"minus10"==t&&""==a.innerHTML&&(document.getElementById("total").innerHTML=.9*n,a.innerHTML=.1*n)},document.addEventListener("DOMContentLoaded",(function(t){e().then((function(e){!function(e){console.log(e);var t=localStorage.getItem("cart");if(null!=t){var n=JSON.parse(t);console.log(n);var a=document.querySelector(".purchasesList"),r=0;n.forEach((function(t){var n,o,c=t[0],i=t[1].size,l=t[1].numb;e.forEach((function(e){e.name==c&&(n=e.price,o=e.image)}));var s=document.createElement("div");s.classList.add("purchase"),a.append(s);var d=document.createElement("div");d.classList.add("purchase__preview"),s.append(d);var u=document.createElement("img");u.classList.add("image"),u.src=o,d.append(u);var m=document.createElement("div");m.classList.add("purchase__describtion"),s.append(m);var g=document.createElement("p");g.classList.add("describtionText"),g.innerHTML=c,m.append(g);var v=document.createElement("p");g.classList.add("size"),v.innerHTML=i,m.append(v);var _=document.createElement("div");_.classList.add("purchase__price"),_.innerHTML=n*l+"$",r+=n*l,s.append(_)})),console.log(r),document.getElementById("subtotal").innerHTML=r,document.getElementById("total").innerHTML=r}}(e)})),window._shiptorWidget.load()}));document.getElementById("submitButton").onclick=function(e){var a,r,o;e.preventDefault(),null==localStorage.getItem("cart")?document.querySelector(".errorMessage").innerHTML="Your cart is empty":(a=Math.min(t("userEmail"),n("Email"),t("userName"),t("userSurname"),t("userPhone"),n("Phone"),t("userCountry"),t("userCity"),t("userAddress")),r=document.querySelector(".errorMessage"),1==a?(o={name:document.getElementById("userName").value,surname:document.getElementById("userSurname").value,email:document.getElementById("userEmail").value,phoneNumber:document.getElementById("userPhone").value,subscription:document.getElementById("newsSubscribtion").checked},fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(o)}).then((function(e){return console.log(e.json())})).catch((function(e){return console.log(e)})),r.innerHTML="",1==document.getElementById("byCard").checked?document.location.href="../uploads/payment/payment.html":document.querySelector(".container__modal").classList.add("container__modal_visible"),document.getElementById("form").reset()):r.innerHTML="Please provide all required information")},document.getElementById("successButton").addEventListener("click",(function(){document.querySelector(".container__modal").classList.remove("container__modal_visible"),localStorage.removeItem("cart")}))}()}()}();
//# sourceMappingURL=main.b1b9e1379597bf954a1e.js.map